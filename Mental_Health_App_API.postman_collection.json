{
	"info": {
		"_postman_id": "mental-health-app-api",
		"name": "Mental Health App API",
		"description": "# Mental Health Application - Backend API Collection\n\nComplete API collection for Mental Health Application Backend organized by project modules.\n\n## üìã Collection Structure\n\nThis collection is organized by project modules:\n\n1. **Health Check** - Server health monitoring\n2. **Authentication** - User registration, login, OAuth, password management, email/phone verification\n3. **Users** - User profile management (CRUD operations)\n4. **Therapists** - Therapist profile management and verification\n5. **Availabilities** - Therapist availability scheduling and management\n6. **Bookings** - Session booking system\n7. **Payments** - Payment processing and management\n8. **Messages** - Conversations and messaging system\n9. **Notifications** - In-app notification system\n10. **Support Tickets** - Customer support ticket system\n11. **Reviews** - Therapist reviews and ratings system\n\n## üîê RBAC (Role-Based Access Control)\n\nThis API uses CASL for role-based access control with multiple roles:\n\n### Admin Role\n- Full access to all resources and actions\n- Can manage users, therapists, bookings, payments, messages, notifications, support tickets, reviews, and availability\n- Can update user status, roles, and therapist status\n\n### SuperAdmin Role\n- Full administrative access (same as Admin)\n\n### TherapistManager Role\n- Can manage therapists and their profiles\n- Can update therapist status and review notes\n\n### SupportAgent Role\n- Can manage support tickets\n- Can assist with user issues\n\n### ContentModerator Role\n- Can moderate content and review therapist profiles\n- Can manage reviews (approve, reject, update status)\n\n### Therapist Role\n- Own profile management (read/update)\n- Own therapist profile (read/create/update)\n- Availability management (full control)\n- Bookings for their sessions (read/update)\n- Payments (read-only)\n- Messages/Conversations (full access)\n- Notifications (own)\n- Support tickets (create/read/update own)\n\n### Patient Role\n- Own profile management (read/update)\n- Therapist profiles (read-only, public)\n- Availability (read-only)\n- Own bookings (full control)\n- Own payments (full control)\n- Messages/Conversations (full access)\n- Notifications (own)\n- Support tickets (create/read/update own)\n- Reviews (create/read/update own pending reviews, read approved reviews)\n\n## üîë Authentication\n\n- Most endpoints require a Bearer token in the Authorization header\n- Token is obtained via `/api/auth/login` or `/api/auth/register`\n- Use `{{authToken}}` variable for authenticated requests\n- Role-specific tokens: `{{adminToken}}`, `{{therapistToken}}`, `{{patientToken}}`\n- Refresh tokens available for token rotation\n\n## üìù User Status\n\n- Users have status: active, inactive, pending, blocked, suspended (default: active for OAuth, pending for registration)\n- New registrations start with status: pending\n\n## üë®‚Äç‚öïÔ∏è Therapist Status\n\n- Therapists have status: approved, pending, rejected, underReview (default: pending)\n- Only admins can update therapist status\n\n## üåê Base URL\n\nDefault base URL: `http://localhost:3000`\n\nSet the `{{baseUrl}}` variable in your Postman environment to change the base URL.\n\n## üìö Usage\n\n1. Import this collection into Postman\n2. Set the `baseUrl` variable (default: `http://localhost:3000`)\n3. Start with Authentication endpoints to register/login and get tokens\n4. Tokens are automatically saved to `{{authToken}}` variable\n5. Use the organized folders to test each module",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check if the server is running"
					},
					"response": []
				}
			]
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.token) {",
									"        pm.environment.set('authToken', response.data.token);",
									"        pm.environment.set('userId', response.data.user._id);",
									"        if (response.data.refreshToken) {",
									"            pm.environment.set('refreshToken', response.data.refreshToken);",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phone\": {\n    \"countryCode\": \"+1\",\n    \"number\": \"1234567890\",\n    \"verified\": false\n  },\n  \"dateOfBirth\": \"1990-01-15\",\n  \"gender\": \"male\",\n  \"country\": \"USA\",\n  \"timezone\": \"America/New_York\",\n  \"password\": \"<encrypted-password>\",\n  \"role\": \"patient\",\n  \"emailVerified\": false,\n  \"privacyPolicyAccepted\": true,\n  \"termsOfServiceAccepted\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						},
						"description": "Register a new user. Role can be 'admin', 'therapist', 'patient', 'superAdmin', 'therapistManager', 'supportAgent', or 'contentModerator' (default: 'patient'). If role is 'therapist', a therapist profile is automatically created.\n\n**IMPORTANT:** The password field must be encrypted using AES encryption with the ENCRYPTION_KEY before sending. The backend will decrypt it automatically.\n\n**Profile Photo Upload:**\nTo upload a profile photo during registration, use form-data instead of JSON:\n- Set Content-Type to multipart/form-data\n- Add field: `profilePhoto` (file)\n- Supported formats: JPEG, JPG, PNG, GIF, WEBP\n- Maximum file size: 100MB\n- Photo will be uploaded to Cloudinary and URL saved to user's profilePhoto field\n\nRequired fields:\n- firstName, lastName, email, phone (with countryCode, number, verified), dateOfBirth, gender, country, timezone, password, emailVerified\n\nOptional fields:\n- role: User role (default: 'patient')\n- privacyPolicyAccepted: Boolean (default: false)\n- termsOfServiceAccepted: Boolean (default: false)\n- profilePhoto: Profile photo file (if using form-data)\n\nResponse includes:\n- `token`: Access token (short-lived, default: 7 days)\n- `refreshToken`: Refresh token (long-lived, default: 30 days) - use this to get new access tokens via the Refresh Token endpoint\n\nNote: Email verification is separate. After registration, call the 'Send Verification Email' endpoint to receive the verification OTP. The user's emailVerified field will be set to false until verified. New users start with status: 'pending'."
					},
					"response": []
				},
				{
					"name": "Register Therapist",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.token) {",
									"        pm.environment.set('authToken', response.data.token);",
									"        pm.environment.set('userId', response.data.user._id);",
									"        if (response.data.refreshToken) {",
									"            pm.environment.set('refreshToken', response.data.refreshToken);",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"email\": \"jane.smith@example.com\",\n  \"phone\": {\n    \"countryCode\": \"+1\",\n    \"number\": \"9876543210\",\n    \"verified\": false\n  },\n  \"dateOfBirth\": \"1985-05-20\",\n  \"gender\": \"female\",\n  \"country\": \"USA\",\n  \"timezone\": \"America/Los_Angeles\",\n  \"password\": \"<encrypted-password>\",\n  \"role\": \"therapist\",\n  \"emailVerified\": false,\n  \"privacyPolicyAccepted\": true,\n  \"termsOfServiceAccepted\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						},
						"description": "Register a new user with therapist role. A therapist profile will be automatically created with status: 'pending'.\n\n**IMPORTANT:** The password field must be encrypted using AES encryption with the ENCRYPTION_KEY before sending. The backend will decrypt it automatically.\n\nRequired fields:\n- firstName, lastName, email, phone (with countryCode, number, verified), dateOfBirth, gender, country, timezone, password, emailVerified\n\nOptional fields:\n- privacyPolicyAccepted: Boolean (default: false)\n- termsOfServiceAccepted: Boolean (default: false)\n\nResponse includes:\n- `token`: Access token (short-lived, default: 7 days)\n- `refreshToken`: Refresh token (long-lived, default: 30 days) - use this to get new access tokens via the Refresh Token endpoint\n\nNote: The therapist profile will be created with status: 'pending' and must be approved by an admin."
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.token) {",
									"        pm.environment.set('authToken', response.data.token);",
									"        pm.environment.set('userId', response.data.user._id);",
									"        if (response.data.refreshToken) {",
									"            pm.environment.set('refreshToken', response.data.refreshToken);",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"<encrypted-email>\",\n  \"password\": \"<encrypted-password>\",\n  \"isRemember\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Login with encrypted email and password. Returns a JWT access token and refresh token. The access token should be used in Authorization header for protected routes.\n\n**IMPORTANT:** Both email and password fields must be encrypted using AES encryption with the ENCRYPTION_KEY before sending. The backend will decrypt them automatically.\n\nOptional fields:\n- `isRemember`: Boolean to indicate if the user wants to be remembered (default: false)\n\nResponse includes:\n- `token`: Access token (short-lived, default: 7 days)\n- `refreshToken`: Refresh token (long-lived, default: 30 days) - use this to get new access tokens"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.token) {",
									"        pm.environment.set('authToken', response.data.token);",
									"        if (response.data.refreshToken) {",
									"            pm.environment.set('refreshToken', response.data.refreshToken);",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/refresh-token",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"refresh-token"
							]
						},
						"description": "Refresh the access token using a valid refresh token. Returns a new access token and a new refresh token (token rotation).\n\n**How it works:**\n- Provide the refresh token received during login/registration\n- The endpoint validates the refresh token against the stored value in the user model\n- Returns a new access token and a new refresh token\n- The old refresh token is automatically invalidated (token rotation)\n\n**Security:**\n- Refresh tokens are invalidated when:\n  - Password is changed\n  - Token version changes\n  - Token doesn't match stored value\n  - Token is expired\n\nUse this endpoint when your access token expires to get a new one without requiring the user to login again."
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/me",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"me"
							]
						},
						"description": "Get the currently authenticated user's information.\n\n**RBAC:** Requires authentication. Available to all authenticated users (admin, therapist, patient)."
					},
					"response": []
				},
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/forgot-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"forgot-password"
							]
						},
						"description": "Request a password reset link. An email will be sent with a reset token. In non-production environments, the reset token is also returned in the response."
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"your-reset-token-here\",\n  \"password\": \"newPassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/reset-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"reset-password"
							]
						},
						"description": "Reset password using the token received from forgot password email. Password must be at least 6 characters long."
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"oldPassword\": \"password123\",\n  \"newPassword\": \"newPassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/change-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"change-password"
							]
						},
						"description": "Change password for the authenticated user. Requires authentication. Both oldPassword and newPassword are required. New password must be at least 6 characters long."
					},
					"response": []
				},
				{
					"name": "Add Password",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"password\": \"<encrypted-password>\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/add-password",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"add-password"
							]
						},
						"description": "Add a password to a user account that was created via OAuth (e.g., Google sign-in) and doesn't have a password yet. Requires authentication.\n\n**IMPORTANT:** The password field must be encrypted using AES encryption with the ENCRYPTION_KEY before sending. The backend will decrypt it automatically.\n\nRequired fields:\n- `password`: The encrypted password to add (must be at least 6 characters long after decryption)\n\n**Note:** This endpoint is only for users who signed up via OAuth and don't have a password. If the user already has a password, use the 'Change Password' endpoint instead. The password will be hashed and stored securely."
					},
					"response": []
				},
				{
					"name": "Send Verification Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/send-verification-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"send-verification-email"
							]
						},
						"description": "Send email verification OTP to the specified email address. Does not require authentication.\n\nThis endpoint should be called after registration to send the initial verification email. A 6-digit OTP will be sent to the user's email address.\n\nRequired fields:\n- `email`: The email address to send the verification OTP to\n\nFeatures:\n- Generates a 6-digit OTP\n- OTP expires in 10 minutes\n- Maximum 5 verification attempts allowed\n- In non-production environments, the OTP is returned in the response for testing\n\nNote: If the email is already verified, this endpoint will return an error."
					},
					"response": []
				},
				{
					"name": "Verify Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"otp\": \"123456\",\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/verify-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"verify-email"
							]
						},
						"description": "Verify email address using the OTP received via email. Does not require authentication.\n\n**Email Verification Status Check:**\nThis endpoint first checks if the email exists in the database:\n- If email doesn't exist: Returns \"Email not verified\" with exists: false\n- If email exists and is already verified: Returns \"Email already verified\" with emailVerified: true (skips OTP verification)\n- If email exists but not verified: Proceeds with OTP verification\n\nRequired fields:\n- `email`: The email address to verify (required for status check)\n- `otp`: 6-digit verification code received in email (required only if email exists and is not verified)\n\nValidations:\n- Email must be provided\n- If proceeding with OTP verification:\n  - OTP must match the one sent to the user\n  - OTP expires after 10 minutes\n  - Maximum 5 attempts allowed\n  - If maximum attempts exceeded, user must request a new OTP\n\nOn success (when OTP is verified):\n- Sets emailVerified to true in user model\n- Deletes the verification token\n- Returns success message with email verification status"
					},
					"response": []
				},
				{
					"name": "Resend Verification Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/resend-verification-email",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"resend-verification-email"
							]
						},
						"description": "Resend email verification OTP to the specified email address. Does not require authentication.\n\nRequired fields:\n- `email`: The email address to resend the verification OTP to\n\nUse this endpoint if:\n- The previous OTP expired (10 minutes)\n- You need a new verification code\n- Maximum attempts were exceeded\n\nFeatures:\n- Generates a new 6-digit OTP\n- Resets attempt counter to 0\n- OTP expires in 10 minutes\n- In non-production environments, the OTP is returned in the response for testing\n\nNote: If the email is already verified, this endpoint will return an error."
					},
					"response": []
				},
				{
					"name": "Send Verification Phone",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phone\": {\n    \"countryCode\": \"+1\",\n    \"number\": \"1234567890\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/send-verification-phone",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"send-verification-phone"
							]
						},
						"description": "Send phone verification OTP to the specified phone number. Does not require authentication.\n\nThis endpoint should be called after registration to send the initial verification SMS. A 6-digit OTP will be sent to the user's phone number via Twilio.\n\nRequired fields:\n- `phone`: Object containing `countryCode` and `number`\n\nFeatures:\n- Generates a 6-digit OTP\n- OTP expires in 10 minutes\n- Maximum 5 verification attempts allowed\n- In non-production environments, the OTP is returned in the response for testing\n- Sends SMS via Twilio\n\nNote: If the phone is already verified, this endpoint will return an error."
					},
					"response": []
				},
				{
					"name": "Verify Phone",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"otp\": \"123456\",\n  \"phone\": {\n    \"countryCode\": \"+1\",\n    \"number\": \"1234567890\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/verify-phone",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"verify-phone"
							]
						},
						"description": "Verify phone number using the OTP received via SMS. Does not require authentication.\n\nRequired fields:\n- `otp`: 6-digit verification code received in SMS\n- `phone`: Object containing `countryCode` and `number`\n\nValidations:\n- OTP must match the one sent to the user\n- OTP expires after 10 minutes\n- Maximum 5 attempts allowed\n- If maximum attempts exceeded, user must request a new OTP\n- If phone is already verified, returns an error\n\nOn success:\n- Sets phone.verified to true\n- Deletes the verification token\n- Returns success message"
					},
					"response": []
				},
				{
					"name": "Resend Verification Phone",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phone\": {\n    \"countryCode\": \"+1\",\n    \"number\": \"1234567890\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/resend-verification-phone",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"resend-verification-phone"
							]
						},
						"description": "Resend phone verification OTP to the specified phone number. Does not require authentication.\n\nRequired fields:\n- `phone`: Object containing `countryCode` and `number`\n\nUse this endpoint if:\n- The previous OTP expired (10 minutes)\n- You need a new verification code\n- Maximum attempts were exceeded\n\nFeatures:\n- Generates a new 6-digit OTP\n- Resets attempt counter to 0\n- OTP expires in 10 minutes\n- In non-production environments, the OTP is returned in the response for testing\n- Sends SMS via Twilio\n\nNote: If the phone is already verified, this endpoint will return an error."
					},
					"response": []
				},
				{
					"name": "Google OAuth - Initiate",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/google?role=patient",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"google"
							],
							"query": [
								{
									"key": "role",
									"value": "patient",
									"description": "User role: 'patient' or 'therapist'",
									"options": [
										"patient",
										"therapist"
									]
								}
							]
						},
						"description": "Initiate Google OAuth2 authentication flow. This endpoint redirects the user to Google's authentication page.\n\nQuery Parameters:\n- role: Required. Must be either 'patient' or 'therapist'\n\nFlow:\n1. User is redirected to Google OAuth consent screen\n2. After authentication, Google redirects to the callback URL\n3. The callback endpoint handles the token exchange and user creation/login\n\nNote: This is a redirect endpoint. In Postman, you'll see a redirect response. For actual OAuth flow, use this URL in a browser or mobile app.\n\nUses PKCE (Proof Key for Code Exchange) for enhanced security."
					},
					"response": []
				},
				{
					"name": "Google OAuth - Callback",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/auth/google/callback?code=authorization_code_here&state=state_here",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"google",
								"callback"
							],
							"query": [
								{
									"key": "code",
									"value": "authorization_code_here",
									"description": "Authorization code from Google OAuth"
								},
								{
									"key": "state",
									"value": "state_here",
									"description": "State parameter from OAuth flow (contains role and PKCE verifier)"
								}
							]
						},
						"description": "Google OAuth2 callback endpoint. This endpoint is called by Google after user authentication.\n\nQuery Parameters:\n- code: Authorization code from Google (automatically provided by Google)\n- state: State parameter containing role and PKCE verifier (automatically provided)\n\nFlow:\n1. Exchanges authorization code for access token\n2. Retrieves user profile from Google\n3. Creates new user if email doesn't exist, or logs in existing user\n4. Returns JWT token and user data\n\nNote: This endpoint is typically called automatically by Google during the OAuth flow. The response includes:\n- JWT token (for authenticated requests)\n- User data (with role from the initial request)\n\nIf user already exists with the Google email, they are logged in. If not, a new user is created with the role specified in the initial request."
					},
					"response": []
				}
			]
		},
		{
			"name": "Therapists",
			"item": [
				{
					"name": "Create Therapist",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "userId",
									"value": "{{userId}}",
									"type": "text"
								},
								{
									"key": "firstName",
									"value": "Jane",
									"type": "text"
								},
								{
									"key": "lastName",
									"value": "Smith",
									"type": "text"
								},
								{
									"key": "email",
									"value": "jane.smith@example.com",
									"type": "text"
								},
								{
									"key": "profilePhoto",
									"type": "file",
									"src": [],
									"description": "Profile photo (image file)"
								},
								{
									"key": "preferredName",
									"value": "Dr. Jane",
									"type": "text"
								},
								{
									"key": "phone",
									"value": "+11234567890",
									"type": "text"
								},
								{
									"key": "dateOfBirth",
									"value": "1985-05-20",
									"type": "text"
								},
								{
									"key": "gender",
									"value": "female",
									"type": "text"
								},
								{
									"key": "city",
									"value": "Los Angeles",
									"type": "text"
								},
								{
									"key": "country",
									"value": "USA",
									"type": "text"
								},
								{
									"key": "timezone",
									"value": "America/Los_Angeles",
									"type": "text",
									"description": "Required: Timezone (e.g., America/Los_Angeles, Europe/London)"
								},
								{
									"key": "bio",
									"value": "Experienced therapist specializing in cognitive behavioral therapy.",
									"type": "text"
								},
								{
									"key": "videoIntro",
									"type": "file",
									"src": [],
									"description": "Video introduction (video file)"
								},
								{
									"key": "education",
									"value": "[{\"school\":\"University of California\",\"degree\":\"Ph.D. in Psychology\",\"startYear\":2005,\"endYear\":2009}]",
									"type": "text",
									"description": "JSON array of education objects"
								},
								{
									"key": "educationPhotos",
									"type": "file",
									"src": [],
									"description": "Education degree photos (multiple images allowed)"
								},
								{
									"key": "certifications",
									"value": "[{\"name\":\"Licensed Clinical Psychologist\",\"licenseNumber\":\"LCP-12345\",\"year\":2010}]",
									"type": "text",
									"description": "JSON array of certification objects"
								},
								{
									"key": "certificationPhotos",
									"type": "file",
									"src": [],
									"description": "Certification photos (multiple images allowed)"
								},
								{
									"key": "experience",
									"value": "[{\"position\":\"Senior Therapist\",\"organization\":\"Mental Health Clinic\",\"startYear\":2010,\"endYear\":null,\"currentlyWorking\":true}]",
									"type": "text",
									"description": "JSON array of experience objects"
								},
								{
									"key": "experiencePhotos",
									"type": "file",
									"src": [],
									"description": "Experience photos (multiple images allowed)"
								},
								{
									"key": "specializations",
									"value": "[\"Anxiety\",\"Depression\",\"PTSD\"]",
									"type": "text",
									"description": "JSON array of specializations"
								},
								{
									"key": "languages",
									"value": "[\"English\",\"Spanish\"]",
									"type": "text",
									"description": "JSON array of languages"
								},
								{
									"key": "emailVerified",
									"value": "false",
									"type": "text",
									"description": "Email verification status (default: false)"
								},
								{
									"key": "status",
									"value": "pending",
									"type": "text",
									"description": "Therapist status: approved, pending, rejected, underReview (default: pending)"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/therapists",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists"
							]
						},
						"description": "Create a new therapist profile with file uploads.\n\n**RBAC:** Requires authentication. **Therapist role only.** Use `{{therapistToken}}` for testing.\n\n**Required fields:**\n- userId, firstName, lastName, email, timezone\n\n**Optional fields:**\n- preferredName, profilePhoto, phone (object with countryCode, number, verified), dateOfBirth, gender, city, country, bio, videoIntro, education, certifications, experience, specializations, languages, emailVerified, status\n\n**Status values:** approved, pending, rejected, underReview (default: pending)\n\nFiles are uploaded to Cloudinary and organized in folders:\n- profilePhoto: Single image file\n- videoIntro: Single video file\n- educationPhotos: Multiple image files (matched with education array by index)\n- certificationPhotos: Multiple image files (matched with certifications array by index)\n- experiencePhotos: Multiple image files (matched with experience array by index)\n\nArrays (education, certifications, experience, specializations, languages) should be sent as JSON strings."
					},
					"response": []
				},
				{
					"name": "Get All Therapists",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/therapists?page=1&limit=10&search=&specialization=&language=&status=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search in firstName, lastName, email, or bio",
									"disabled": true
								},
								{
									"key": "specialization",
									"value": "",
									"description": "Filter by specialization",
									"disabled": true
								},
								{
									"key": "language",
									"value": "",
									"description": "Filter by language",
									"disabled": true
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by therapist status (approved, pending, rejected, underReview)",
									"disabled": true
								}
							]
						},
						"description": "Get all therapists with pagination and optional filters. No authentication required."
					},
					"response": []
				},
				{
					"name": "Get All Therapists (With Filters)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/therapists?page=1&limit=10&search=anxiety&specialization=Anxiety&language=English&isVerified=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": "anxiety"
								},
								{
									"key": "specialization",
									"value": "Anxiety"
								},
								{
									"key": "language",
									"value": "English"
								},
								{
									"key": "isVerified",
									"value": "true"
								}
							]
						},
						"description": "Get all therapists with search and filter options applied."
					},
					"response": []
				},
				{
					"name": "Get Approved Therapists (Patient Listing)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/therapists/approved?page=1&limit=10&search=&specialization=&language=&minPrice=&maxPrice=&serviceEnabled=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists",
								"approved"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search in firstName, lastName, email, or bio",
									"disabled": true
								},
								{
									"key": "specialization",
									"value": "",
									"description": "Filter by specialization(s). Accepts comma-separated string or array (e.g., 'CBT,DBT' or ['CBT','DBT'])",
									"disabled": true
								},
								{
									"key": "language",
									"value": "",
									"description": "Filter by language(s). Accepts comma-separated string or array (e.g., 'English,Spanish' or ['English','Spanish'])",
									"disabled": true
								},
								{
									"key": "minPrice",
									"value": "",
									"description": "Minimum price filter (filters by therapist availability price)",
									"disabled": true
								},
								{
									"key": "maxPrice",
									"value": "",
									"description": "Maximum price filter (filters by therapist availability price)",
									"disabled": true
								},
								{
									"key": "serviceEnabled",
									"value": "",
									"description": "Filter by service enabled status (true/false). Filters by therapist availability serviceEnabled field",
									"disabled": true
								}
							]
						},
						"description": "Get only approved therapists with their availability information. This endpoint is designed for patient-side therapist listing.\n\n**Key Features:**\n- Only returns therapists with status: 'approved'\n- Includes availability information for each therapist\n- Supports multiple filter combinations\n- Optimized for patient-facing therapist discovery\n\n**Filter Parameters:**\n- `search`: Search in firstName, lastName, email, or bio\n- `specialization`: Filter by one or more specializations (comma-separated or array)\n- `language`: Filter by one or more languages (comma-separated or array)\n- `minPrice`: Minimum session price (filters by availability.price)\n- `maxPrice`: Maximum session price (filters by availability.price)\n- `serviceEnabled`: Filter by whether service is enabled (true/false)\n\n**Example Usage:**\n- Basic: `/api/therapists/approved`\n- With filters: `/api/therapists/approved?specialization=CBT,DBT&language=English&minPrice=50&maxPrice=200&serviceEnabled=true`\n- Multiple specializations: `/api/therapists/approved?specialization=CBT&specialization=DBT`\n\n**Response:**\nReturns therapists array with availability object included for each therapist. If pricing or serviceEnabled filters are applied, only therapists with matching availability are returned.\n\nNo authentication required."
					},
					"response": []
				},
				{
					"name": "Get Approved Therapists (With Filters Example)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/therapists/approved?page=1&limit=20&specialization=CBT,DBT&language=English&minPrice=50&maxPrice=200&serviceEnabled=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists",
								"approved"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "specialization",
									"value": "CBT,DBT",
									"description": "Multiple specializations (comma-separated)"
								},
								{
									"key": "language",
									"value": "English"
								},
								{
									"key": "minPrice",
									"value": "50"
								},
								{
									"key": "maxPrice",
									"value": "200"
								},
								{
									"key": "serviceEnabled",
									"value": "true"
								}
							]
						},
						"description": "Example request showing how to use multiple filters together to find approved therapists matching specific criteria."
					},
					"response": []
				},
				{
					"name": "Get Therapist by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/therapists/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "therapist-id-here",
									"description": "Therapist MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single therapist by their ID. No authentication required."
					},
					"response": []
				},
				{
					"name": "Get Therapist by User ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/therapists/user/:userId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists",
								"user",
								":userId"
							],
							"variable": [
								{
									"key": "userId",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							]
						},
						"description": "Get a therapist profile by the associated user ID. No authentication required."
					},
					"response": []
				},
				{
					"name": "Update Therapist",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "firstName",
									"value": "John",
									"type": "text",
									"description": "First name - optional"
								},
								{
									"key": "lastName",
									"value": "Doe",
									"type": "text",
									"description": "Last name - optional"
								},
								{
									"key": "preferredName",
									"value": "Johnny",
									"type": "text",
									"description": "Preferred name - optional"
								},
								{
									"key": "email",
									"value": "john.doe@example.com",
									"type": "text",
									"description": "Email address - must be unique - optional"
								},
								{
									"key": "phone",
									"value": "{\"countryCode\":\"+1\",\"number\":\"5551234567\",\"verified\":false}",
									"type": "text",
									"description": "Phone object with countryCode, number, and verified (boolean) - optional. Send null to clear phone."
								},
								{
									"key": "dateOfBirth",
									"value": "1990-01-15",
									"type": "text",
									"description": "Date of birth (YYYY-MM-DD format) - optional"
								},
								{
									"key": "gender",
									"value": "male",
									"type": "text",
									"description": "Gender (male, female, other) - optional"
								},
								{
									"key": "city",
									"value": "San Francisco",
									"type": "text",
									"description": "City - optional"
								},
								{
									"key": "country",
									"value": "United States",
									"type": "text",
									"description": "Country - optional"
								},
								{
									"key": "timezone",
									"value": "America/Los_Angeles",
									"type": "text",
									"description": "Timezone (e.g., America/Los_Angeles) - optional"
								},
								{
									"key": "bio",
									"value": "Updated bio with more experience in treating anxiety and depression.",
									"type": "text",
									"description": "Biography - optional"
								},
								{
									"key": "videoIntroUrl",
									"value": "https://example.com/video-intro.mp4",
									"type": "text",
									"description": "Video intro URL - optional (can also upload via videoIntro file)"
								},
								{
									"key": "specializations",
									"value": "[\"Anxiety\",\"Depression\",\"PTSD\",\"Trauma\"]",
									"type": "text",
									"description": "JSON array of specializations - optional"
								},
								{
									"key": "languages",
									"value": "[\"English\",\"Spanish\",\"French\"]",
									"type": "text",
									"description": "JSON array of languages - optional"
								},
								{
									"key": "education",
									"value": "[{\"school\":\"Harvard University\",\"degree\":\"PhD in Psychology\",\"startYear\":2010,\"endYear\":2014}]",
									"type": "text",
									"description": "JSON array of education objects - can be updated without photos - optional"
								},
								{
									"key": "certifications",
									"value": "[{\"name\":\"Licensed Clinical Psychologist\",\"licenseNumber\":\"LCP-12345\",\"year\":2015}]",
									"type": "text",
									"description": "JSON array of certification objects - can be updated without photos - optional"
								},
								{
									"key": "experience",
									"value": "[{\"position\":\"Senior Therapist\",\"organization\":\"Mental Health Clinic\",\"startYear\":2015,\"endYear\":2020,\"currentlyWorking\":false}]",
									"type": "text",
									"description": "JSON array of experience objects - can be updated without photos - optional"
								},
								{
									"key": "profilePhoto",
									"type": "file",
									"src": [],
									"description": "New profile photo (image file) - optional"
								},
								{
									"key": "videoIntro",
									"type": "file",
									"src": [],
									"description": "New video introduction (video file) - optional"
								},
								{
									"key": "educationPhotos",
									"type": "file",
									"src": [],
									"description": "Education degree photos (multiple images allowed, matched by index with education array) - optional"
								},
								{
									"key": "certificationPhotos",
									"type": "file",
									"src": [],
									"description": "Certification photos (multiple images allowed, matched by index with certifications array) - optional"
								},
								{
									"key": "experiencePhotos",
									"type": "file",
									"src": [],
									"description": "Experience photos (multiple images allowed, matched by index with experience array) - optional"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/therapists/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "therapist-id-here",
									"description": "Therapist MongoDB ObjectId"
								}
							]
						},
						"description": "Update a therapist profile with optional file uploads.\n\n**RBAC:** Requires authentication. Therapists can update their own profile. Admins can update any therapist profile and modify the isVerified field. Use `{{therapistToken}}` or `{{adminToken}}` for testing.\n\n**All fields are optional** - only include fields you want to update.\n\n**Updatable Fields:**\n- firstName, lastName, preferredName\n- email (must be unique)\n- phone (object with countryCode, number, verified) or null to clear\n- dateOfBirth (YYYY-MM-DD format)\n- gender (male, female, other)\n- city, country, timezone\n- bio\n- videoIntroUrl (or upload via videoIntro file)\n- specializations, languages (JSON arrays)\n- education, certifications, experience (JSON arrays - can be updated without photos)\n\n**File Uploads:**\nFiles are uploaded to Cloudinary and organized in folders:\n- profilePhoto: Single image file\n- videoIntro: Single video file\n- educationPhotos: Multiple image files (matched with education array by index)\n- certificationPhotos: Multiple image files (matched with certifications array by index)\n- experiencePhotos: Multiple image files (matched with experience array by index)\n\n**Important Notes:**\n- Arrays should be sent as JSON strings\n- Education, certifications, and experience can be updated without uploading photos\n- Phone can be cleared by sending null\n- At least one field must be provided for update\n- Common fields (firstName, lastName, email, dateOfBirth, gender, country, timezone, phone) are also synced to the associated User model\n\n**Error Responses:**\n- 400: Invalid input, validation errors, or no fields to update\n- 401: Authentication required\n- 403: Unauthorized (not your profile and not admin)\n- 404: Therapist or user not found\n- 409: Email already in use\n- 500: Server error or file upload failure"
					},
					"response": [
						{
							"name": "Success - Therapist Updated",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "firstName",
											"value": "John",
											"type": "text"
										},
										{
											"key": "bio",
											"value": "Updated bio",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/therapists/:id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"therapists",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "therapist-id-here"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": true,\n  \"message\": \"Therapist updated successfully\",\n  \"data\": {\n    \"_id\": \"therapist-id-here\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"bio\": \"Updated bio\",\n    \"user\": {\n      \"_id\": \"user-id-here\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"email\": \"john.doe@example.com\",\n      \"role\": \"therapist\"\n    },\n    \"createdAt\": \"2024-01-01T00:00:00.000Z\",\n    \"updatedAt\": \"2024-01-01T00:00:00.000Z\"\n  }\n}"
						},
						{
							"name": "Error - Invalid Therapist ID",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "firstName",
											"value": "John",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/therapists/invalid-id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"therapists",
										"invalid-id"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"message\": \"Invalid therapist ID format\"\n  }\n}"
						},
						{
							"name": "Error - Email Already in Use",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "email",
											"value": "existing@example.com",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/therapists/:id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"therapists",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "therapist-id-here"
										}
									]
								}
							},
							"status": "Conflict",
							"code": 409,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"message\": \"Email already in use by another therapist\"\n  }\n}"
						},
						{
							"name": "Error - Unauthorized",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "firstName",
											"value": "John",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/therapists/:id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"therapists",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "other-therapist-id"
										}
									]
								}
							},
							"status": "Forbidden",
							"code": 403,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"message\": \"Unauthorized: You can only update your own therapist profile\"\n  }\n}"
						},
						{
							"name": "Error - Invalid Phone Format",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "phone",
											"value": "invalid-phone",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/therapists/:id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"therapists",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "therapist-id-here"
										}
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"message\": \"Phone must be an object with countryCode and number, or null to clear\"\n  }\n}"
						},
						{
							"name": "Error - Invalid Array Format",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "specializations",
											"value": "not-a-valid-json-array",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/therapists/:id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"therapists",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "therapist-id-here"
										}
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"message\": \"Invalid specializations array format\"\n  }\n}"
						},
						{
							"name": "Error - No Fields to Update",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": []
								},
								"url": {
									"raw": "{{baseUrl}}/api/therapists/:id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"therapists",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "therapist-id-here"
										}
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"success\": false,\n  \"error\": {\n    \"message\": \"No valid fields to update\"\n  }\n}"
						}
					]
				},
				{
					"name": "Update Therapist (Admin - Verify)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"isVerified\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/therapists/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "therapist-id-here",
									"description": "Therapist MongoDB ObjectId"
								}
							]
						},
						"description": "Admin-only: Update therapist verification status. Only admins can modify the isVerified field."
					},
					"response": []
				},
				{
					"name": "Delete Therapist",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/therapists/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"therapists",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "therapist-id-here",
									"description": "Therapist MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a therapist profile.\n\n**RBAC:** Requires authentication. **Admin only.** Use `{{adminToken}}` for testing."
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phone\": {\n    \"countryCode\": \"+1\",\n    \"number\": \"1234567890\"\n  },\n  \"dateOfBirth\": \"1990-01-15\",\n  \"gender\": \"male\",\n  \"country\": \"USA\",\n  \"timezone\": \"America/New_York\",\n  \"password\": \"password123\",\n  \"role\": \"patient\",\n  \"privacyPolicyAccepted\": true,\n  \"termsOfServiceAccepted\": true,\n  \"status\": \"active\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Create a new user. All fields are required. Role can be 'admin', 'therapist', 'patient', 'superAdmin', 'therapistManager', 'supportAgent', or 'contentModerator' (default: 'patient').\n\n**Required fields:**\n- firstName, lastName, email, phone (with countryCode, number), dateOfBirth, gender, country, timezone, password\n\n**Optional fields:**\n- role: User role (default: 'patient')\n- privacyPolicyAccepted: Boolean (default: false)\n- termsOfServiceAccepted: Boolean (default: false)\n- status: User status - 'active', 'inactive', 'pending', 'blocked', 'suspended' (default: 'active')\n\n**RBAC:** Public endpoint - no authentication required."
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users/me",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								"me"
							]
						},
						"description": "Get the currently authenticated user's profile.\n\n**RBAC:** Requires authentication. Available to all authenticated users (admin, therapist, patient)."
					},
					"response": []
				},
				{
					"name": "Delete Current User (Soft Delete)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"I no longer need the service\",\n  \"password\": \"yourPasswordHere\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/me",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								"me"
							]
						},
						"description": "Soft delete the currently authenticated user's account.\n\n- Sets `deletedAt` on the user.\n- Stores optional `accountDeletionReason`.\n- If the user is a therapist, also soft-deletes the linked therapist record.\n\n**RBAC:** Requires authentication. Available to all authenticated users (admin, therapist, patient) for their own account."
					},
					"response": []
				},
				{
					"name": "Get All Users",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users?page=1&limit=10&search=&role=&country=&gender=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search in firstName, lastName, or email",
									"disabled": true
								},
								{
									"key": "role",
									"value": "",
									"description": "Filter by role (admin, therapist, patient)",
									"disabled": true
								},
								{
									"key": "country",
									"value": "",
									"description": "Filter by country",
									"disabled": true
								},
								{
									"key": "gender",
									"value": "",
									"description": "Filter by gender",
									"disabled": true
								}
							]
						},
						"description": "Get all users with pagination and optional filters.\n\n**RBAC:** Requires authentication. **Admin only.** Use `{{adminToken}}` for testing."
					},
					"response": []
				},
				{
					"name": "Get All Users (With Filters)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users?page=1&limit=10&search=john&role=patient&country=USA&gender=male",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": "john"
								},
								{
									"key": "role",
									"value": "patient"
								},
								{
									"key": "country",
									"value": "USA"
								},
								{
									"key": "gender",
									"value": "male"
								}
							]
						},
						"description": "Get all users with search and filter options applied."
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single user by their ID. Requires authentication."
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Smith\",\n  \"email\": \"john.smith@example.com\",\n  \"phone\": {\n    \"countryCode\": \"+1\",\n    \"number\": \"9876543210\"\n  },\n  \"dateOfBirth\": \"1990-01-15\",\n  \"gender\": \"male\",\n  \"country\": \"USA\",\n  \"timezone\": \"America/Los_Angeles\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							]
						},
						"description": "Update a user profile.\n\n**RBAC:** Requires authentication. Users can update their own profile. Admins can update any user profile and modify the role field. If updating a therapist user, the therapist profile will also be updated with common fields.\n\n**Permissions:**\n- Admin: Can update any user\n- Therapist/Patient: Can only update own profile\n\n**Profile Photo Upload:**\nTo upload a profile photo, use form-data instead of JSON:\n- Set Content-Type to multipart/form-data\n- Add field: `profilePhoto` (file)\n- Supported formats: JPEG, JPG, PNG, GIF, WEBP\n- Maximum file size: 100MB\n- Photo will be uploaded to Cloudinary and URL saved to user's profilePhoto field\n\n**Alternative:** You can also set profilePhoto URL directly in JSON body if you have the URL from another source."
					},
					"response": []
				},
				{
					"name": "Update User (Admin - Change Role)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"role\": \"admin\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							]
						},
						"description": "Admin-only: Update user role. Only admins can modify the role field."
					},
					"response": []
				},
				{
					"name": "Update User Password",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"password\": \"newPassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							]
						},
						"description": "Update user password. Requires authentication. Users can only update their own password unless they are an admin. Password must be at least 6 characters long."
					},
					"response": []
				},
				{
					"name": "Update User with Profile Photo",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "firstName",
									"value": "John",
									"type": "text"
								},
								{
									"key": "lastName",
									"value": "Smith",
									"type": "text"
								},
								{
									"key": "email",
									"value": "john.smith@example.com",
									"type": "text"
								},
								{
									"key": "profilePhoto",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							]
						},
						"description": "Update user profile with profile photo upload. Requires authentication. Users can update their own profile. Admins can update any user profile.\n\n**Profile Photo Upload:**\n- Use form-data (multipart/form-data) for file uploads\n- Field name: `profilePhoto`\n- Supported formats: JPEG, JPG, PNG, GIF, WEBP\n- Maximum file size: 100MB\n- Photo will be uploaded to Cloudinary under `users/{userId}/profile-photos/`\n- The Cloudinary URL will be saved to the user's profilePhoto field\n\n**Other Fields:**\nYou can include other user fields in the form-data:\n- firstName, lastName, email, phone, dateOfBirth, gender, country, timezone, privacyPolicyAccepted, termsOfServiceAccepted\n\n**Note:** If you only want to update the profile photo, you can send just the profilePhoto file. Other fields are optional."
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a user (soft delete).\n\n**RBAC:** Requires authentication. **Admin only.** Use `{{adminToken}}` for testing.\n\nIf the user is a therapist, the therapist profile will also be soft deleted."
					},
					"response": []
				}
			]
		},
		{
			"name": "Availabilities",
			"item": [
				{
					"name": "Create Availability",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"therapistId\": \"therapist-id-here\",\n  \"timeZone\": \"America/New_York\",\n  \"bufferTime\": \"15\",\n  \"price\": 100,\n  \"sessionDuration\": \"60\",\n  \"serviceEnabled\": true,\n  \"availabilityCalendar\": [\n    {\n      \"day\": \"Mon\",\n      \"isAvailable\": true,\n      \"startTime\": \"09:00\",\n      \"endTime\": \"17:00\"\n    },\n    {\n      \"day\": \"Tue\",\n      \"isAvailable\": true,\n      \"startTime\": \"09:00\",\n      \"endTime\": \"17:00\"\n    },\n    {\n      \"day\": \"Wed\",\n      \"isAvailable\": false\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/availabilities",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"availabilities"
							]
						},
						"description": "Create a new availability for a therapist. Requires authentication. therapistId, timeZone, bufferTime, price, and sessionDuration are required. availabilityCalendar is an array of day availability objects with day (Mon-Sun), isAvailable (boolean), and optional startTime/endTime. serviceEnabled defaults to false."
					},
					"response": []
				},
				{
					"name": "Get All Availabilities",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/availabilities?page=1&limit=10&therapistId=&serviceEnabled=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"availabilities"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "therapistId",
									"value": "",
									"description": "Filter by therapist ID",
									"disabled": true
								},
								{
									"key": "serviceEnabled",
									"value": "",
									"description": "Filter by service enabled status (true/false)",
									"disabled": true
								}
							]
						},
						"description": "Get all availabilities with pagination and optional filters. No authentication required."
					},
					"response": []
				},
				{
					"name": "Get All Availabilities (With Filters)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/availabilities?page=1&limit=10&therapistId=therapist-id-here&serviceEnabled=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"availabilities"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "therapistId",
									"value": "therapist-id-here"
								},
								{
									"key": "serviceEnabled",
									"value": "true"
								}
							]
						},
						"description": "Get all availabilities with filters applied."
					},
					"response": []
				},
				{
					"name": "Get Availability by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/availabilities/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"availabilities",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "availability-id-here",
									"description": "Availability MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single availability by its ID. No authentication required."
					},
					"response": []
				},
				{
					"name": "Get Availability by Therapist ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/availabilities/therapist/:therapistId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"availabilities",
								"therapist",
								":therapistId"
							],
							"variable": [
								{
									"key": "therapistId",
									"value": "therapist-id-here",
									"description": "Therapist MongoDB ObjectId"
								}
							]
						},
						"description": "Get availability for a specific therapist by therapist ID. No authentication required."
					},
					"response": []
				},
				{
					"name": "Update Availability",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"timeZone\": \"America/Los_Angeles\",\n  \"bufferTime\": \"30\",\n  \"price\": 120,\n  \"sessionDuration\": \"90\",\n  \"serviceEnabled\": true,\n  \"availabilityCalendar\": [\n    {\n      \"day\": \"Mon\",\n      \"isAvailable\": true,\n      \"startTime\": \"10:00\",\n      \"endTime\": \"18:00\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/availabilities/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"availabilities",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "availability-id-here",
									"description": "Availability MongoDB ObjectId"
								}
							]
						},
						"description": "Update an availability. Requires authentication. Users can only update their own availability unless they are an admin. All fields are optional."
					},
					"response": []
				},
				{
					"name": "Delete Availability",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/availabilities/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"availabilities",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "availability-id-here",
									"description": "Availability MongoDB ObjectId"
								}
							]
						},
						"description": "Delete an availability. Requires authentication. Users can only delete their own availability unless they are an admin."
					},
					"response": []
				}
			]
		},
		{
			"name": "Support Tickets",
			"item": [
			{
				"name": "Create Support Ticket",
				"request": {
					"auth": {
						"type": "bearer",
						"bearer": [
							{
								"key": "token",
								"value": "{{authToken}}",
								"type": "string"
							}
						]
					},
					"method": "POST",
					"header": [],
					"body": {
						"mode": "formdata",
						"formdata": [
							{
								"key": "userId",
								"value": "{{userId}}",
								"type": "text",
								"description": "User ID (optional - will use authenticated user if available)"
							},
							{
								"key": "email",
								"value": "user@example.com",
								"type": "text",
								"description": "Email address (required)"
							},
							{
								"key": "phone",
								"value": "+11234567890",
								"type": "text",
								"description": "Phone number (optional)"
							},
							{
								"key": "userType",
								"value": "patient",
								"type": "text",
								"description": "User type: patient or therapist (required)"
							},
							{
								"key": "issueCategory",
								"value": "technical_support",
								"type": "text",
								"description": "Issue category (required): billing_refunds, technical_support, session_support, account_issues, platform_features, therapist_concerns, general_inquiry"
							},
							{
								"key": "subject",
								"value": "Unable to login",
								"type": "text",
								"description": "Subject (required)"
							},
							{
								"key": "description",
								"value": "I am unable to login to my account. I keep getting an error message.",
								"type": "text",
								"description": "Description (required)"
							},
							{
								"key": "priority",
								"value": "high",
								"type": "text",
								"description": "Priority: low, medium, or high (default: low)"
							},
							{
								"key": "attachments",
								"type": "file",
								"src": [],
								"description": "Attachment files (multiple files allowed, up to 10). Files will be uploaded to Cloudinary."
							}
						]
					},
					"url": {
						"raw": "{{baseUrl}}/api/support-tickets",
						"host": [
							"{{baseUrl}}"
						],
						"path": [
							"api",
							"support-tickets"
						]
					},
					"description": "Create a new support ticket with optional file attachments. Authentication is optional - if authenticated, userId will be automatically set from the token. If not authenticated, userId can be provided in the body (but is required by the model).\n\nRequired fields: email, userType (patient/therapist), issueCategory, subject, description.\nOptional: userId (auto-set if authenticated), phone, priority (low/medium/high, default: low), attachments (files).\n\nValid issueCategory values: billing_refunds, technical_support, session_support, account_issues, platform_features, therapist_concerns, general_inquiry.\n\nAttachments are uploaded to Cloudinary and stored in support-tickets/{ticketId}/ folder. Attachment URLs are automatically stored in the database."
				},
				"response": []
			},
			{
				"name": "Create Support Ticket (Unauthenticated)",
				"request": {
					"method": "POST",
					"header": [],
					"body": {
						"mode": "formdata",
						"formdata": [
							{
								"key": "userId",
								"value": "user-id-here",
								"type": "text",
								"description": "User ID (required if not authenticated)"
							},
							{
								"key": "email",
								"value": "user@example.com",
								"type": "text",
								"description": "Email address (required)"
							},
							{
								"key": "phone",
								"value": "+11234567890",
								"type": "text",
								"description": "Phone number (optional)"
							},
							{
								"key": "userType",
								"value": "patient",
								"type": "text",
								"description": "User type: patient or therapist (required)"
							},
							{
								"key": "issueCategory",
								"value": "technical_support",
								"type": "text",
								"description": "Issue category (required)"
							},
							{
								"key": "subject",
								"value": "Unable to login",
								"type": "text",
								"description": "Subject (required)"
							},
							{
								"key": "description",
								"value": "I am unable to login to my account. I keep getting an error message.",
								"type": "text",
								"description": "Description (required)"
							},
							{
								"key": "priority",
								"value": "high",
								"type": "text",
								"description": "Priority: low, medium, or high (default: low)"
							},
							{
								"key": "attachments",
								"type": "file",
								"src": [],
								"description": "Attachment files (multiple files allowed, up to 10)"
							}
						]
					},
					"url": {
						"raw": "{{baseUrl}}/api/support-tickets",
						"host": [
							"{{baseUrl}}"
						],
						"path": [
							"api",
							"support-tickets"
						]
					},
					"description": "Create a support ticket without authentication. userId must be provided in the body since it's required by the model."
				},
				"response": []
			},
				{
					"name": "Get All Support Tickets",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/support-tickets?page=1&limit=10&search=&userType=&issueCategory=&status=&priority=&email=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"support-tickets"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search in subject, description, or email",
									"disabled": true
								},
								{
									"key": "userType",
									"value": "",
									"description": "Filter by userType (patient/therapist)",
									"disabled": true
								},
								{
									"key": "issueCategory",
									"value": "",
									"description": "Filter by issueCategory",
									"disabled": true
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (open/in_progress/resolved/closed)",
									"disabled": true
								},
								{
									"key": "priority",
									"value": "",
									"description": "Filter by priority (low/medium/high)",
									"disabled": true
								},
								{
									"key": "email",
									"value": "",
									"description": "Filter by email",
									"disabled": true
								}
							]
						},
						"description": "Get all support tickets with pagination and optional filters. Requires authentication. The userId field is populated with user details (firstName, lastName, email, role)."
					},
					"response": []
				},
				{
					"name": "Get All Support Tickets (With Filters)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/support-tickets?page=1&limit=10&search=login&userType=patient&issueCategory=technical_support&status=open&priority=high&email=user@example.com",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"support-tickets"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": "login"
								},
								{
									"key": "userType",
									"value": "patient"
								},
								{
									"key": "issueCategory",
									"value": "technical_support"
								},
								{
									"key": "status",
									"value": "open"
								},
								{
									"key": "priority",
									"value": "high"
								},
								{
									"key": "email",
									"value": "user@example.com"
								}
							]
						},
						"description": "Get all support tickets with search and filter options applied."
					},
					"response": []
				},
				{
					"name": "Get Support Ticket by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/support-tickets/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"support-tickets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "support-ticket-id-here",
									"description": "Support Ticket MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single support ticket by its ID. Requires authentication. The userId field is populated with user details (firstName, lastName, email, role)."
					},
					"response": []
				},
			{
				"name": "Update Support Ticket",
				"request": {
					"auth": {
						"type": "bearer",
						"bearer": [
							{
								"key": "token",
								"value": "{{authToken}}",
								"type": "string"
							}
						]
					},
					"method": "PUT",
					"header": [],
					"body": {
						"mode": "formdata",
						"formdata": [
							{
								"key": "status",
								"value": "in_progress",
								"type": "text",
								"description": "Status: open, in_progress, resolved, or closed (optional)"
							},
							{
								"key": "priority",
								"value": "high",
								"type": "text",
								"description": "Priority: low, medium, or high (optional)"
							},
							{
								"key": "description",
								"value": "Updated description with more details.",
								"type": "text",
								"description": "Description (optional)"
							},
							{
								"key": "subject",
								"value": "Updated subject",
								"type": "text",
								"description": "Subject (optional)"
							},
							{
								"key": "email",
								"value": "updated@example.com",
								"type": "text",
								"description": "Email (optional)"
							},
							{
								"key": "phone",
								"value": "+19876543210",
								"type": "text",
								"description": "Phone (optional)"
							},
							{
								"key": "userType",
								"value": "patient",
								"type": "text",
								"description": "User type: patient or therapist (optional)"
							},
							{
								"key": "issueCategory",
								"value": "technical_support",
								"type": "text",
								"description": "Issue category (optional)"
							},
							{
								"key": "attachmentUrls",
								"value": "[]",
								"type": "text",
								"description": "JSON array of attachment URLs to replace existing attachments (optional). If not provided and files are uploaded, new attachments will be merged with existing ones."
							},
							{
								"key": "attachments",
								"type": "file",
								"src": [],
								"description": "New attachment files (multiple files allowed, up to 10). If attachmentUrls is not provided, these will be merged with existing attachments. If attachmentUrls is provided, these will replace all attachments."
							}
						]
					},
					"url": {
						"raw": "{{baseUrl}}/api/support-tickets/:id",
						"host": [
							"{{baseUrl}}"
						],
						"path": [
							"api",
							"support-tickets",
							":id"
						],
						"variable": [
							{
								"key": "id",
								"value": "support-ticket-id-here",
								"description": "Support Ticket MongoDB ObjectId"
							}
						]
					},
					"description": "Update a support ticket with optional file attachments. Requires authentication. All fields are optional.\n\nValid status values: open, in_progress, resolved, closed.\nValid priority values: low, medium, high.\nValid userType: patient, therapist.\nValid issueCategory: billing_refunds, technical_support, session_support, account_issues, platform_features, therapist_concerns, general_inquiry.\n\nFile uploads:\n- If you upload files without providing attachmentUrls, new files will be merged with existing attachments.\n- If you provide attachmentUrls (as JSON array), it will replace all existing attachments. You can also upload new files which will be added to the provided URLs.\n- Files are uploaded to Cloudinary in support-tickets/{ticketId}/ folder."
				},
				"response": []
			},
			{
				"name": "Update Support Ticket (JSON Only)",
				"request": {
					"auth": {
						"type": "bearer",
						"bearer": [
							{
								"key": "token",
								"value": "{{authToken}}",
								"type": "string"
							}
						]
					},
					"method": "PUT",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"body": {
						"mode": "raw",
						"raw": "{\n  \"status\": \"in_progress\",\n  \"priority\": \"high\",\n  \"description\": \"Updated description with more details.\",\n  \"attachmentUrls\": [\"https://example.com/file1.jpg\", \"https://example.com/file2.pdf\"]\n}"
					},
					"url": {
						"raw": "{{baseUrl}}/api/support-tickets/:id",
						"host": [
							"{{baseUrl}}"
						],
						"path": [
							"api",
							"support-tickets",
							":id"
						],
						"variable": [
							{
								"key": "id",
								"value": "support-ticket-id-here",
								"description": "Support Ticket MongoDB ObjectId"
							}
						]
					},
					"description": "Update a support ticket without file uploads (JSON only). Requires authentication. All fields are optional. Use this if you only want to update text fields or provide attachment URLs directly."
				},
				"response": []
			},
				{
					"name": "Delete Support Ticket",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/support-tickets/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"support-tickets",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "support-ticket-id-here",
									"description": "Support Ticket MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a support ticket (soft delete). Requires authentication."
					},
					"response": []
				}
			]
		},
		{
			"name": "Messages",
			"item": [
				{
					"name": "Get or Create Conversation",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"participantId\": \"participant-user-id-here\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/conversations",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"conversations"
							]
						},
						"description": "Get or create a conversation with another user. Requires authentication. If a conversation already exists between the current user and the participant, it will be returned. Otherwise, a new conversation will be created. participantId is the MongoDB ObjectId of the user you want to chat with."
					},
					"response": []
				},
				{
					"name": "Get All Conversations",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/conversations?page=1&limit=20",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"conversations"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Items per page (default: 20)"
								}
							]
						},
						"description": "Get all conversations for the current user with pagination. Requires authentication. Returns conversations sorted by last message time (most recent first). Each conversation includes the other participant's information, last message preview, and unread count."
					},
					"response": []
				},
				{
					"name": "Get Conversation by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/conversations/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"conversations",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "conversation-id-here",
									"description": "Conversation MongoDB ObjectId"
								}
							]
						},
						"description": "Get a specific conversation by its ID. Requires authentication. Only returns conversations where the current user is a participant."
					},
					"response": []
				},
				{
					"name": "Get Messages in Conversation",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/conversations/:id/messages?page=1&limit=50",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"conversations",
								":id",
								"messages"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "50",
									"description": "Items per page (default: 50)"
								}
							],
							"variable": [
								{
									"key": "id",
									"value": "conversation-id-here",
									"description": "Conversation MongoDB ObjectId"
								}
							]
						},
						"description": "Get all messages in a conversation with pagination. Requires authentication. Messages are returned in chronological order (oldest first). Each message includes sender information."
					},
					"response": []
				},
				{
					"name": "Send Message",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"content\": \"Hello! How are you doing today?\",\n  \"attachmentUrl\": null\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/conversations/:id/messages",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"conversations",
								":id",
								"messages"
							],
							"variable": [
								{
									"key": "id",
									"value": "conversation-id-here",
									"description": "Conversation MongoDB ObjectId"
								}
							]
						},
						"description": "Send a message in a conversation. Requires authentication. The conversation ID is provided in the URL parameter. content is required. attachmentUrl is optional. The message will automatically be marked as read by the sender. The conversation's lastMessage and unreadCounts will be updated automatically."
					},
					"response": []
				},
				{
					"name": "Send Message with Attachment",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"content\": \"Check out this document!\",\n  \"attachmentUrl\": \"https://example.com/document.pdf\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/conversations/:id/messages",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"conversations",
								":id",
								"messages"
							],
							"variable": [
								{
									"key": "id",
									"value": "conversation-id-here",
									"description": "Conversation MongoDB ObjectId"
								}
							]
						},
						"description": "Send a message with an attachment URL. The attachmentUrl should be a publicly accessible URL. You can upload files to Cloudinary or another service first, then use the URL here."
					},
					"response": []
				},
				{
					"name": "Mark Messages as Read",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"conversationId\": \"conversation-id-here\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/messages/read",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"messages",
								"read"
							]
						},
						"description": "Mark all unread messages in a conversation as read. Requires authentication. conversationId is required. This will mark all messages sent by other participants as read and reset the unread count for the current user in that conversation."
					},
					"response": []
				},
				{
					"name": "Delete Message",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/messages/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"messages",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "message-id-here",
									"description": "Message MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a message (soft delete). Requires authentication. Users can only delete their own messages."
					},
					"response": []
				},
				{
					"name": "Delete Conversation",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/conversations/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"conversations",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "conversation-id-here",
									"description": "Conversation MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a conversation (soft delete). Requires authentication. Only participants can delete their conversations."
					},
					"response": []
				}
			]
		},
		{
			"name": "Bookings",
			"item": [
				{
					"name": "Create Booking",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"therapistId\": \"therapist-id-here\",\n  \"date\": \"2025-07-15\",\n  \"time\": \"10:00 AM\",\n  \"duration\": 30,\n  \"payment\": {\n    \"amount\": 20,\n    \"currency\": \"usd\",\n    \"paymentIntentId\": \"pi_1234567890abcdef\",\n    \"clientSecret\": \"pi_1234567890abcdef_secret_xyz\",\n    \"status\": \"succeeded\",\n    \"receiptUrl\": \"https://example.com/receipts/receipt-123.pdf\",\n    \"paymentMethod\": \"card\",\n    \"description\": \"Payment for 30-minute therapy session\"\n  },\n  \"notes\": \"First session booking\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings"
							]
						},
						"description": "Create a new booking session with a therapist. Requires authentication.\n\nRequired fields:\n- therapistId: Therapist MongoDB ObjectId\n- date: Booking date (YYYY-MM-DD format)\n- time: Booking time (e.g., \"10:00 AM\", \"2:30 PM\")\n- duration: Session duration in minutes (30, 45, or 60)\n- payment.amount: Payment amount\n- payment.paymentIntentId: Payment intent ID from payment processor (required, must be unique)\n- payment.clientSecret: Client secret from payment processor (required)\n\nOptional fields:\n- payment.currency: Currency code (default: 'usd')\n- payment.status: Payment status - 'pending', 'succeeded', 'failed', 'refunded' (default: 'pending')\n- payment.receiptUrl: URL to payment receipt\n- payment.paymentMethod: Payment method used (e.g., 'card', 'paypal')\n- payment.description: Payment description\n- payment.metadata: Additional metadata as JSON object\n- notes: Additional notes (max 1000 characters)\n\nDefault pricing if amount not provided:\n- 30 minutes: $20\n- 45 minutes: $35\n- 60 minutes: $55\n\nNote: A Payment document is automatically created and linked to the booking.\n\nValidations:\n- Cannot book in the past\n- Cannot book with yourself (if you're a therapist)\n- Prevents double booking at the same time slot\n- Booking status is automatically set to 'confirmed'\n- Payment intent ID must be unique"
					},
					"response": []
				},
				{
					"name": "Get All Bookings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings?page=1&limit=10&therapistId=&patientId=&status=&date=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "therapistId",
									"value": "",
									"description": "Filter by therapist ID",
									"disabled": true
								},
								{
									"key": "patientId",
									"value": "",
									"description": "Filter by patient ID",
									"disabled": true
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (pending, confirmed, completed, cancelled, no-show)",
									"disabled": true
								},
								{
									"key": "date",
									"value": "",
									"description": "Filter by date (YYYY-MM-DD format)",
									"disabled": true
								}
							]
						},
						"description": "Get all bookings with pagination and optional filters. No authentication required. Returns bookings with populated therapist and patient details."
					},
					"response": []
				},
				{
					"name": "Get All Bookings (With Filters)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings?page=1&limit=10&therapistId=therapist-id-here&patientId=patient-id-here&status=confirmed&date=2025-07-15",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "therapistId",
									"value": "therapist-id-here"
								},
								{
									"key": "patientId",
									"value": "patient-id-here"
								},
								{
									"key": "status",
									"value": "confirmed"
								},
								{
									"key": "date",
									"value": "2025-07-15"
								}
							]
						},
						"description": "Get all bookings with search and filter options applied."
					},
					"response": []
				},
				{
					"name": "Get My Bookings",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/my-bookings?page=1&limit=10&status=&date=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"my-bookings"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (pending, confirmed, completed, cancelled, no-show)",
									"disabled": true
								},
								{
									"key": "date",
									"value": "",
									"description": "Filter by date (YYYY-MM-DD format)",
									"disabled": true
								}
							]
						},
						"description": "Get all bookings for the currently authenticated user (patient). Requires authentication. Returns bookings with populated therapist details."
					},
					"response": []
				},
				{
					"name": "Get Bookings by Therapist",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/therapist/:therapistId?page=1&limit=10&status=&date=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"therapist",
								":therapistId"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (pending, confirmed, completed, cancelled, no-show)",
									"disabled": true
								},
								{
									"key": "date",
									"value": "",
									"description": "Filter by date (YYYY-MM-DD format)",
									"disabled": true
								}
							],
							"variable": [
								{
									"key": "therapistId",
									"value": "therapist-id-here",
									"description": "Therapist MongoDB ObjectId"
								}
							]
						},
						"description": "Get all bookings for a specific therapist. Requires authentication. Returns bookings with populated patient details."
					},
					"response": []
				},
				{
					"name": "Get Booking by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "booking-id-here",
									"description": "Booking MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single booking by its ID. No authentication required. Returns booking with populated therapist and patient details."
					},
					"response": []
				},
				{
					"name": "Update Booking",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"date\": \"2025-07-16\",\n  \"time\": \"11:00 AM\",\n  \"duration\": 45,\n  \"status\": \"confirmed\",\n  \"notes\": \"Updated session notes\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "booking-id-here",
									"description": "Booking MongoDB ObjectId"
								}
							]
						},
						"description": "Update a booking. Requires authentication. Only the patient or therapist associated with the booking can update it (unless admin).\n\nOptional fields (all fields are optional):\n- date: New booking date (YYYY-MM-DD format)\n- time: New booking time (e.g., \"10:00 AM\")\n- duration: New duration in minutes (30, 45, or 60)\n- status: New status (pending, confirmed, completed, cancelled, no-show)\n- notes: Updated notes\n- cancellationReason: Reason for cancellation (required if status is changed to cancelled)\n\nIf status is changed to 'cancelled', cancelledAt is automatically set to current date/time."
					},
					"response": []
				},
				{
					"name": "Cancel Booking",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cancellationReason\": \"Schedule conflict - need to reschedule\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings/:id/cancel",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								":id",
								"cancel"
							],
							"variable": [
								{
									"key": "id",
									"value": "booking-id-here",
									"description": "Booking MongoDB ObjectId"
								}
							]
						},
						"description": "Cancel a booking. Requires authentication. Only the patient or therapist associated with the booking can cancel it.\n\nOptional field:\n- cancellationReason: Reason for cancellation\n\nValidations:\n- Cannot cancel an already cancelled booking\n- Cannot cancel a completed booking\n- cancelledAt is automatically set to current date/time"
					},
					"response": []
				},
				{
					"name": "Delete Booking",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "booking-id-here",
									"description": "Booking MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a booking (hard delete). Requires authentication. Only the patient, therapist, or admin can delete a booking.\n\nValidations:\n- Cannot delete a completed booking (for record keeping)\n- Only pending, confirmed, or cancelled bookings can be deleted"
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Create Payment",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 50.00,\n  \"currency\": \"usd\",\n  \"paymentIntentId\": \"pi_1234567890abcdef\",\n  \"clientSecret\": \"pi_1234567890abcdef_secret_xyz\",\n  \"status\": \"succeeded\",\n  \"receiptUrl\": \"https://example.com/receipts/receipt-123.pdf\",\n  \"paymentMethod\": \"card\",\n  \"description\": \"Payment for therapy session\",\n  \"metadata\": {\n    \"bookingId\": \"booking-id-here\",\n    \"sessionDuration\": 60\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/payments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments"
							]
						},
						"description": "Create a new payment record. Requires authentication.\n\nRequired fields:\n- amount: Payment amount (must be greater than 0)\n- paymentIntentId: Payment intent ID from payment processor (must be unique)\n- clientSecret: Client secret from payment processor\n\nOptional fields:\n- currency: Currency code (default: 'usd')\n- status: Payment status - 'pending', 'succeeded', 'failed', 'refunded' (default: 'pending')\n- receiptUrl: URL to payment receipt\n- paymentMethod: Payment method used (e.g., 'card', 'paypal', 'bank_transfer')\n- description: Payment description\n- metadata: Additional metadata as JSON object\n\nValidations:\n- Amount must be greater than 0\n- paymentIntentId must be unique\n- Status must be one of: pending, succeeded, failed, refunded\n- Payment is automatically associated with the authenticated user"
					},
					"response": []
				},
				{
					"name": "Get All Payments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payments?userId=&status=&currency=&minAmount=&maxAmount=&startDate=&endDate=&page=1&limit=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments"
							],
							"query": [
								{
									"key": "userId",
									"value": "",
									"description": "Filter by user ID",
									"disabled": true
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: pending, succeeded, failed, refunded",
									"disabled": true
								},
								{
									"key": "currency",
									"value": "",
									"description": "Filter by currency (e.g., usd, eur)",
									"disabled": true
								},
								{
									"key": "minAmount",
									"value": "",
									"description": "Minimum amount filter",
									"disabled": true
								},
								{
									"key": "maxAmount",
									"value": "",
									"description": "Maximum amount filter",
									"disabled": true
								},
								{
									"key": "startDate",
									"value": "",
									"description": "Start date filter (ISO format)",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "",
									"description": "End date filter (ISO format)",
									"disabled": true
								},
								{
									"key": "page",
									"value": "1",
									"description": "Page number"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page"
								}
							]
						},
						"description": "Get all payments with optional filters. No authentication required, but typically used by admins.\n\nQuery Parameters:\n- userId: Filter by user ID\n- status: Filter by status (pending, succeeded, failed, refunded)\n- currency: Filter by currency code\n- minAmount: Minimum payment amount\n- maxAmount: Maximum payment amount\n- startDate: Start date for date range filter (ISO format)\n- endDate: End date for date range filter (ISO format)\n- page: Page number (default: 1)\n- limit: Items per page (default: 10)\n\nReturns paginated results with payment details and user information."
					},
					"response": []
				},
				{
					"name": "Get My Payments",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payments/me?status=&currency=&minAmount=&maxAmount=&startDate=&endDate=&page=1&limit=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments",
								"me"
							],
							"query": [
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: pending, succeeded, failed, refunded",
									"disabled": true
								},
								{
									"key": "currency",
									"value": "",
									"description": "Filter by currency (e.g., usd, eur)",
									"disabled": true
								},
								{
									"key": "minAmount",
									"value": "",
									"description": "Minimum amount filter",
									"disabled": true
								},
								{
									"key": "maxAmount",
									"value": "",
									"description": "Maximum amount filter",
									"disabled": true
								},
								{
									"key": "startDate",
									"value": "",
									"description": "Start date filter (ISO format)",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "",
									"description": "End date filter (ISO format)",
									"disabled": true
								},
								{
									"key": "page",
									"value": "1",
									"description": "Page number"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page"
								}
							]
						},
						"description": "Get all payments for the currently authenticated user. Requires authentication.\n\nQuery Parameters:\n- status: Filter by status (pending, succeeded, failed, refunded)\n- currency: Filter by currency code\n- minAmount: Minimum payment amount\n- maxAmount: Maximum payment amount\n- startDate: Start date for date range filter (ISO format)\n- endDate: End date for date range filter (ISO format)\n- page: Page number (default: 1)\n- limit: Items per page (default: 10)\n\nReturns paginated results with payment details."
					},
					"response": []
				},
				{
					"name": "Get Payments by User ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payments/user/:userId?status=&currency=&minAmount=&maxAmount=&startDate=&endDate=&page=1&limit=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments",
								"user",
								":userId"
							],
							"variable": [
								{
									"key": "userId",
									"value": "user-id-here",
									"description": "User MongoDB ObjectId"
								}
							],
							"query": [
								{
									"key": "status",
									"value": "",
									"description": "Filter by status: pending, succeeded, failed, refunded",
									"disabled": true
								},
								{
									"key": "currency",
									"value": "",
									"description": "Filter by currency (e.g., usd, eur)",
									"disabled": true
								},
								{
									"key": "minAmount",
									"value": "",
									"description": "Minimum amount filter",
									"disabled": true
								},
								{
									"key": "maxAmount",
									"value": "",
									"description": "Maximum amount filter",
									"disabled": true
								},
								{
									"key": "startDate",
									"value": "",
									"description": "Start date filter (ISO format)",
									"disabled": true
								},
								{
									"key": "endDate",
									"value": "",
									"description": "End date filter (ISO format)",
									"disabled": true
								},
								{
									"key": "page",
									"value": "1",
									"description": "Page number"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page"
								}
							]
						},
						"description": "Get all payments for a specific user by user ID. No authentication required, but typically used by admins.\n\nPath Parameters:\n- userId: User MongoDB ObjectId\n\nQuery Parameters:\n- status: Filter by status (pending, succeeded, failed, refunded)\n- currency: Filter by currency code\n- minAmount: Minimum payment amount\n- maxAmount: Maximum payment amount\n- startDate: Start date for date range filter (ISO format)\n- endDate: End date for date range filter (ISO format)\n- page: Page number (default: 1)\n- limit: Items per page (default: 10)\n\nReturns paginated results with payment details and user information."
					},
					"response": []
				},
				{
					"name": "Get Payment by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "payment-id-here",
									"description": "Payment MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single payment by its ID. No authentication required.\n\nPath Parameters:\n- id: Payment MongoDB ObjectId\n\nReturns payment details with populated user information."
					},
					"response": []
				},
				{
					"name": "Update Payment",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"succeeded\",\n  \"receiptUrl\": \"https://example.com/receipts/receipt-123.pdf\",\n  \"paymentMethod\": \"card\",\n  \"description\": \"Updated payment description\",\n  \"metadata\": {\n    \"bookingId\": \"booking-id-here\",\n    \"sessionDuration\": 60,\n    \"updatedBy\": \"admin\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/payments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "payment-id-here",
									"description": "Payment MongoDB ObjectId"
								}
							]
						},
						"description": "Update a payment record. Requires authentication. Users can only update their own payments unless they are admin.\n\nPath Parameters:\n- id: Payment MongoDB ObjectId\n\nOptional fields (all fields are optional):\n- status: Payment status - 'pending', 'succeeded', 'failed', 'refunded'\n- receiptUrl: URL to payment receipt\n- paymentMethod: Payment method used\n- description: Payment description\n- metadata: Additional metadata as JSON object\n\nValidations:\n- Status must be one of: pending, succeeded, failed, refunded\n- Users can only update their own payments\n- Admins can update any payment"
					},
					"response": []
				},
				{
					"name": "Delete Payment",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/payments/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"payments",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "payment-id-here",
									"description": "Payment MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a payment (soft delete). Requires authentication. Users can only delete their own payments unless they are admin.\n\nPath Parameters:\n- id: Payment MongoDB ObjectId\n\nValidations:\n- Users can only delete their own payments\n- Admins can delete any payment\n- This is a soft delete - sets deletedAt timestamp\n- Deleted payments are excluded from queries"
					},
					"response": []
				}
			]
		},
		{
			"name": "Notifications",
			"item": [
				{
					"name": "Create Notification",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"userId\": \"{{userId}}\",\n  \"title\": \"New Session Booked\",\n  \"message\": \"Your session with Dr. Jane Smith has been confirmed for July 15, 2025 at 10:00 AM.\",\n  \"type\": \"session_booked\",\n  \"icon\": \"https://example.com/icons/session-icon.png\",\n  \"metadata\": {\n    \"bookingId\": \"booking-id-here\",\n    \"therapistName\": \"Dr. Jane Smith\",\n    \"sessionDate\": \"2025-07-15\",\n    \"sessionTime\": \"10:00 AM\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/notifications",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications"
							]
						},
						"description": "Create a new notification. Requires authentication. If authenticated, userId can be omitted (will use authenticated user) or provided in body.\n\nRequired fields:\n- userId: User ID (optional if authenticated - uses authenticated user)\n- title: Notification title\n- message: Notification message\n\nOptional fields:\n- type: Notification type (session_booked, payment, message, system, custom) - defaults to 'custom'\n- icon: Icon URL\n- metadata: Additional data as JSON object\n\nValid types: session_booked, payment, message, system, custom"
					},
					"response": []
				},
				{
					"name": "Get All Notifications",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/notifications?page=1&limit=20&isRead=&type=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Items per page (default: 20)"
								},
								{
									"key": "isRead",
									"value": "",
									"description": "Filter by read status (true/false)",
									"disabled": true
								},
								{
									"key": "type",
									"value": "",
									"description": "Filter by type (session_booked, payment, message, system, custom)",
									"disabled": true
								}
							]
						},
						"description": "Get all notifications for the authenticated user with pagination and optional filters. Requires authentication. Returns notifications sorted by creation date (newest first). Also includes unread count in the response."
					},
					"response": []
				},
				{
					"name": "Get All Notifications (With Filters)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/notifications?page=1&limit=20&isRead=false&type=session_booked",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "isRead",
									"value": "false"
								},
								{
									"key": "type",
									"value": "session_booked"
								}
							]
						},
						"description": "Get all notifications with search and filter options applied. Returns only unread session_booked notifications."
					},
					"response": []
				},
				{
					"name": "Get Unread Notification Count",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/unread/count",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								"unread",
								"count"
							]
						},
						"description": "Get the count of unread notifications for the authenticated user. Requires authentication. Useful for displaying a badge count in the UI."
					},
					"response": []
				},
				{
					"name": "Get Notification by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "notification-id-here",
									"description": "Notification MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single notification by its ID. Requires authentication. Only returns notifications belonging to the authenticated user."
					},
					"response": []
				},
				{
					"name": "Update Notification",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Updated Notification Title\",\n  \"message\": \"Updated notification message\",\n  \"type\": \"system\",\n  \"icon\": \"https://example.com/icons/system-icon.png\",\n  \"metadata\": {\n    \"updated\": true\n  },\n  \"isRead\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/notifications/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "notification-id-here",
									"description": "Notification MongoDB ObjectId"
								}
							]
						},
						"description": "Update a notification. Requires authentication. Only the owner of the notification can update it.\n\nOptional fields (all fields are optional):\n- title: Updated title\n- message: Updated message\n- type: Updated type (session_booked, payment, message, system, custom)\n- icon: Updated icon URL\n- metadata: Updated metadata object\n- isRead: Mark as read/unread (true/false)\n\nWhen marking as read for the first time, readAt is automatically set to current date/time. When marking as unread, readAt is set to null."
					},
					"response": []
				},
				{
					"name": "Mark Notification as Read",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/:id/read",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								":id",
								"read"
							],
							"variable": [
								{
									"key": "id",
									"value": "notification-id-here",
									"description": "Notification MongoDB ObjectId"
								}
							]
						},
						"description": "Mark a single notification as read. Requires authentication. Only the owner of the notification can mark it as read. If the notification is already read, no changes are made. readAt is automatically set to current date/time when marking as read."
					},
					"response": []
				},
				{
					"name": "Mark All Notifications as Read",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/read/all",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								"read",
								"all"
							]
						},
						"description": "Mark all unread notifications as read for the authenticated user. Requires authentication. Returns the count of notifications that were marked as read. readAt is automatically set to current date/time for all marked notifications."
					},
					"response": []
				},
				{
					"name": "Delete Notification",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/notifications/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"notifications",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "notification-id-here",
									"description": "Notification MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a notification (hard delete). Requires authentication. Only the owner of the notification can delete it."
					},
					"response": []
				}
			]
		},
		{
			"name": "Reviews",
			"item": [
				{
					"name": "Create Review",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "therapistId",
									"value": "therapist-id-here",
									"type": "text",
									"description": "Therapist MongoDB ObjectId (required)"
								},
								{
									"key": "rating",
									"value": "5",
									"type": "text",
									"description": "Rating (1-5, integer, required)"
								},
								{
									"key": "review",
									"value": "Great therapist! Very helpful and understanding.",
									"type": "text",
									"description": "Review text (10-2000 characters, required)"
								},
								{
									"key": "sessionId",
									"value": "session-id-here",
									"type": "text",
									"description": "Booking/Session MongoDB ObjectId (required)"
								},
								{
									"key": "isAnonymous",
									"value": "false",
									"type": "text",
									"description": "Whether review is anonymous (true/false, default: false)"
								},
								{
									"key": "remarks",
									"value": "",
									"type": "text",
									"description": "Additional remarks (optional)",
									"disabled": true
								},
								{
									"key": "attachments",
									"type": "file",
									"description": "Review attachment files (max 5 files, optional)",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/reviews",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews"
							]
						},
						"description": "Create a new therapist review. Requires authentication. Only patients who have completed a session with the therapist can create a review.\n\n**Required fields:**\n- therapistId: Therapist MongoDB ObjectId\n- rating: Integer between 1 and 5\n- review: Review text (10-2000 characters)\n- sessionId: Completed booking/session MongoDB ObjectId\n\n**Optional fields:**\n- isAnonymous: Boolean (default: false)\n- remarks: Additional remarks\n- attachments: Up to 5 attachment files (images, documents, etc.)\n\n**Validation:**\n- Session must exist and belong to the reviewer\n- Session must be completed (status: 'completed')\n- Therapist ID must match the session therapist\n- Only one review per session allowed\n- Review starts with status: 'pending' (requires admin approval)\n\n**File Uploads:**\n- Supports multiple file types (images, documents)\n- Maximum 5 files\n- Files are uploaded to Cloudinary\n- File URLs are stored in the review's attachments array"
					},
					"response": []
				},
				{
					"name": "Get All Reviews (Admin/Moderator)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/reviews?page=1&limit=10&therapistId=&reviewerId=&status=&rating=&minRating=&maxRating=&search=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "therapistId",
									"value": "",
									"description": "Filter by therapist ID",
									"disabled": true
								},
								{
									"key": "reviewerId",
									"value": "",
									"description": "Filter by reviewer ID",
									"disabled": true
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (pending, approved, rejected)",
									"disabled": true
								},
								{
									"key": "rating",
									"value": "",
									"description": "Filter by exact rating (1-5)",
									"disabled": true
								},
								{
									"key": "minRating",
									"value": "",
									"description": "Minimum rating filter (1-5)",
									"disabled": true
								},
								{
									"key": "maxRating",
									"value": "",
									"description": "Maximum rating filter (1-5)",
									"disabled": true
								},
								{
									"key": "search",
									"value": "",
									"description": "Search in review text and remarks",
									"disabled": true
								}
							]
						},
						"description": "Get all reviews with filters and pagination. Requires authentication with admin, superAdmin, or contentModerator role. Returns reviews sorted by creation date (newest first).\n\n**Available filters:**\n- therapistId: Filter by specific therapist\n- reviewerId: Filter by specific reviewer\n- status: Filter by review status (pending, approved, rejected)\n- rating: Filter by exact rating (1-5)\n- minRating: Minimum rating (1-5)\n- maxRating: Maximum rating (1-5)\n- search: Search in review text and remarks (case-insensitive)\n\n**Response includes:**\n- reviews: Array of review objects with populated therapist, reviewer, and sessionId\n- pagination: Page, limit, total, and pages information"
					},
					"response": []
				},
				{
					"name": "Get All Reviews (With Filters)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/reviews?page=1&limit=10&status=pending&minRating=4&search=helpful",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "pending"
								},
								{
									"key": "minRating",
									"value": "4"
								},
								{
									"key": "search",
									"value": "helpful"
								}
							]
						},
						"description": "Get all reviews with multiple filters applied. Returns pending reviews with rating 4 or higher containing 'helpful' in the text."
					},
					"response": []
				},
				{
					"name": "Get Reviews by Therapist",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/reviews/therapist/:therapistId?page=1&limit=10&status=approved&minRating=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews",
								"therapist",
								":therapistId"
							],
							"variable": [
								{
									"key": "therapistId",
									"value": "therapist-id-here",
									"description": "Therapist MongoDB ObjectId"
								}
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "status",
									"value": "approved",
									"description": "Review status filter (default: approved)"
								},
								{
									"key": "minRating",
									"value": "",
									"description": "Minimum rating filter (1-5)",
									"disabled": true
								}
							]
						},
						"description": "Get all reviews for a specific therapist. This is a public endpoint (no authentication required). By default, returns only approved reviews.\n\n**Query Parameters:**\n- page: Page number (default: 1)\n- limit: Items per page (default: 10)\n- status: Review status filter (default: 'approved')\n- minRating: Minimum rating filter (1-5)\n\n**Response includes:**\n- reviews: Array of approved reviews for the therapist\n- stats: Statistics including:\n  - averageRating: Average rating (rounded to 1 decimal)\n  - totalReviews: Total number of approved reviews\n  - distribution: Rating distribution (count of 5, 4, 3, 2, 1 star ratings)\n- pagination: Page, limit, total, and pages information"
					},
					"response": []
				},
				{
					"name": "Get My Reviews",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/reviews/me?page=1&limit=10&status=",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews",
								"me"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (pending, approved, rejected)",
									"disabled": true
								}
							]
						},
						"description": "Get all reviews created by the authenticated user. Requires authentication. Returns reviews sorted by creation date (newest first).\n\n**Query Parameters:**\n- page: Page number (default: 1)\n- limit: Items per page (default: 10)\n- status: Filter by review status (pending, approved, rejected)\n\n**Response includes:**\n- reviews: Array of user's reviews with populated therapist and sessionId\n- pagination: Page, limit, total, and pages information"
					},
					"response": []
				},
				{
					"name": "Get Review by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/reviews/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "review-id-here",
									"description": "Review MongoDB ObjectId"
								}
							]
						},
						"description": "Get a single review by ID. Requires authentication. Returns the review with populated therapist, reviewer, and sessionId information."
					},
					"response": []
				},
				{
					"name": "Update Review",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "rating",
									"value": "5",
									"type": "text",
									"description": "Rating (1-5, integer, optional)",
									"disabled": true
								},
								{
									"key": "review",
									"value": "Updated review text here...",
									"type": "text",
									"description": "Review text (10-2000 characters, optional)",
									"disabled": true
								},
								{
									"key": "isAnonymous",
									"value": "false",
									"type": "text",
									"description": "Whether review is anonymous (true/false, optional)",
									"disabled": true
								},
								{
									"key": "remarks",
									"value": "",
									"type": "text",
									"description": "Additional remarks (optional)",
									"disabled": true
								},
								{
									"key": "status",
									"value": "approved",
									"type": "text",
									"description": "Review status (pending, approved, rejected) - Admin only",
									"disabled": true
								},
								{
									"key": "attachments",
									"type": "file",
									"description": "Review attachment files (max 5 files, optional)",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/reviews/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "review-id-here",
									"description": "Review MongoDB ObjectId"
								}
							]
						},
						"description": "Update a review. Requires authentication.\n\n**Permissions:**\n- Reviewers can update their own pending reviews (rating, review text, isAnonymous, remarks, attachments)\n- Admins/Moderators can update review status and remarks for any review\n\n**Reviewer Updates (pending reviews only):**\n- rating: Integer between 1 and 5\n- review: Review text (10-2000 characters)\n- isAnonymous: Boolean\n- remarks: Additional remarks\n- attachments: Up to 5 attachment files\n\n**Admin Updates:**\n- status: Review status (pending, approved, rejected)\n- remarks: Admin remarks\n\n**Validation:**\n- Reviewers can only update pending reviews\n- Once approved or rejected, only admins can update the status\n- Rating must be between 1 and 5\n- Review text must be 10-2000 characters\n\n**File Uploads:**\n- New files are added to existing attachments\n- If attachments field is provided in body, it replaces existing attachments\n- Maximum 5 files per review"
					},
					"response": []
				},
				{
					"name": "Update Review Status (Admin)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "status",
									"value": "approved",
									"type": "text",
									"description": "Review status (pending, approved, rejected)"
								},
								{
									"key": "remarks",
									"value": "Review approved after moderation",
									"type": "text",
									"description": "Admin remarks (optional)"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/api/reviews/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "review-id-here",
									"description": "Review MongoDB ObjectId"
								}
							]
						},
						"description": "Update review status (admin/moderator only). Requires authentication with admin, superAdmin, or contentModerator role.\n\n**Status Options:**\n- pending: Review is awaiting moderation\n- approved: Review is approved and visible to public\n- rejected: Review is rejected and not visible\n\n**Response:**\n- Returns updated review with populated therapist, reviewer, and sessionId"
					},
					"response": []
				},
				{
					"name": "Delete Review",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{authToken}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/reviews/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"reviews",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "review-id-here",
									"description": "Review MongoDB ObjectId"
								}
							]
						},
						"description": "Delete a review (soft delete). Requires authentication.\n\n**Permissions:**\n- Reviewers can delete their own reviews\n- Admins/Moderators can delete any review\n\n**Note:**\n- This is a soft delete (sets deletedAt timestamp)\n- Deleted reviews are not returned in queries\n- Review data is preserved for audit purposes"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "authToken",
			"value": "",
			"type": "string",
			"description": "Current authenticated user's JWT token"
		},
		{
			"key": "adminToken",
			"value": "",
			"type": "string",
			"description": "Admin user JWT token for testing admin-only endpoints"
		},
		{
			"key": "therapistToken",
			"value": "",
			"type": "string",
			"description": "Therapist user JWT token for testing therapist endpoints"
		},
		{
			"key": "patientToken",
			"value": "",
			"type": "string",
			"description": "Patient user JWT token for testing patient endpoints"
		},
		{
			"key": "userId",
			"value": "",
			"type": "string"
		}
	]
}